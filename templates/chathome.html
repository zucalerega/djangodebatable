{% extends 'profiles/base.html' %}

{% load static %}

{% block content%}
<!DOCTYPE html>
<html>
<head>
  <link rel="icon" href="{% static 'templates/chaticon1.png'%}">
  <title> Debatable </title>
  <link rel="stylesheet" type='text/css' href="{% static 'templates/style.css'%}">
    <meta charset="utf-8">
    <!--  This file has been downloaded from bootdey.com @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    <title>Debatable</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>

</head>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <body id="chathome">
    <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white" style="width: 25vw;">
        <a href="{% url 'chat:chathome' %}" class="d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom">
          <svg class="bi me-2" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
          <span class="fs-5 fw-semibold">Your Ongoing Discussions</span>
        </a>
      <div class="list-group list-group-flush border-bottom scrollarea">
        {%for key, value in message_list.items%}
        <a href="{% url 'chat:room' key.name %}" class="list-group-item list-group-item-action py-3 lh-tight">
          <div class="d-flex w-100 align-items-center justify-content-between">
            <strong class="mb-1">Discussion with {%if request.user.username == key.auo %}{{key.aut}}{%else%}{{key.auo}}{%endif%}</strong>
            <small class='text-muted'>{{value.date.0}}{{value.date.1}}{{value.date.2}}</small>
          </div>
          <div class="col-10 mb-1 small">{% if value == 'No messages yet'%}Click here to discuss!{%else%}{{value.value}}{%endif%}</div>
        </a>
        {%endfor%}

      </div>
  </div>
      <form id="post-create-form" method="POST" action="checkview">
          {% csrf_token %}
          <select name="topic" id="topic">
            <option value="general">General</option>
            <option value="healthcare">Healthcare</option>
            <option value="gun_rights">Gun Rights</option>
            <option value="abortion">Abortion</option>
            <option value="voting_rights">Voting Rights</option>
            <option value="foreign_policy">Foreign Policy</option>
            <option value="economic_systems">Economic Systems</option>
            <option value="random">Random</option>

          </select>
          {% for instance in object_list %}
            <p>{{ instance.id }} - <a href="{{ instance.name }}">{{ instance.name }}</a>
            </p>

          {% endfor %}

          <select name="chat-style" id="chat-style">
            <option value="no_preference">No Preference</option>
            <option value="respectful">Respectful</option>
            <option value="fracas">Fracas</option>
          </select>

          <input type="submit" value="Create Room">
      </form>


  </body>
</html>
{% endblock content%}
